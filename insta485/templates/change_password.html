<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
</head>
<body>
    <header>
        <a href="/">Home</a>
        <a href="/accounts/edit/">Edit Account</a>
        <a href="/users/{{ logged_in_user }}/">{{ logged_in_user }}</a>
    </header>

    <main>
        <h1>Change Password</h1>

        <!-- Password change form -->
        <form action="/accounts/?target=/accounts/edit/" method="post" enctype="multipart/form-data">
            <label for="password">Old Password:</label>
            <input type="password" id="password" name="password" required/>

            <label for="new_password1">New Password:</label>
            <input type="password" id="new_password1" name="new_password1" required/>

            <label for="new_password2">Confirm New Password:</label>
            <input type="password" id="new_password2" name="new_password2" required/>

            <input type="submit" name="update_password" value="submit"/>
            <input type="hidden" name="operation" value="update_password"/>
        </form>

        <!-- Flash messages for errors/success -->
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </main>
</body>
</html>
